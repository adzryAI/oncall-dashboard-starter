{"version":3,"sources":["../../src/commands/create.ts"],"sourcesContent":["import { Command } from \"commander\";\nimport chalk from \"chalk\";\nimport { spawn } from \"cross-spawn\";\n\nexport const create = new Command()\n  .name(\"create\")\n  .description(\"create a new project\")\n  .argument(\"[project-directory]\")\n  .usage(`${chalk.green(\"[project-directory]\")} [options]`)\n  .option(\n    \"-t, --template <template>\",\n    `\n\n  The template to use for the project, e.g. default, langgraph\n`,\n  )\n  .option(\n    \"--use-npm\",\n    `\n\n  Explicitly tell the CLI to bootstrap the application using npm\n`,\n  )\n  .option(\n    \"--use-pnpm\",\n    `\n\n  Explicitly tell the CLI to bootstrap the application using pnpm\n`,\n  )\n  .option(\n    \"--use-yarn\",\n    `\n\n  Explicitly tell the CLI to bootstrap the application using Yarn\n`,\n  )\n  .option(\n    \"--use-bun\",\n    `\n\n  Explicitly tell the CLI to bootstrap the application using Bun\n`,\n  )\n  .option(\n    \"--skip-install\",\n    `\n\n  Explicitly tell the CLI to skip installing packages\n`,\n  )\n  .action((_, opts) => {\n    const templates = {\n      default: \"https://github.com/assistant-ui/assistant-ui-starter\",\n      cloud: \"https://github.com/assistant-ui/assistant-ui-starter-cloud\",\n      langgraph:\n        \"https://github.com/assistant-ui/assistant-ui-starter-langgraph\",\n      mcp: \"https://github.com/assistant-ui/assistant-ui-starter-mcp\",\n    };\n\n    const templateUrl =\n      templates[(opts.template as keyof typeof templates) ?? \"default\"];\n    if (!templateUrl) {\n      console.error(`Unknown template: ${opts.template}`);\n      process.exit(1);\n    }\n\n    const filteredArgs = process.argv.slice(3).filter((arg, index, arr) => {\n      return !(\n        arg === \"-t\" ||\n        arg === \"--template\" ||\n        arr[index - 1] === \"-t\" ||\n        arr[index - 1] === \"--template\"\n      );\n    });\n\n    const child = spawn(\n      \"npx\",\n      [`create-next-app@latest`, ...filteredArgs, \"-e\", templateUrl],\n      {\n        stdio: \"inherit\",\n      },\n    );\n\n    child.on(\"error\", (error) => {\n      console.error(`Error: ${error.message}`);\n    });\n\n    child.on(\"close\", (code) => {\n      if (code !== 0) {\n        console.log(`other-package-script process exited with code ${code}`);\n      }\n    });\n  });\n"],"mappings":";AAAA,SAAS,eAAe;AACxB,OAAO,WAAW;AAClB,SAAS,aAAa;AAEf,IAAM,SAAS,IAAI,QAAQ,EAC/B,KAAK,QAAQ,EACb,YAAY,sBAAsB,EAClC,SAAS,qBAAqB,EAC9B,MAAM,GAAG,MAAM,MAAM,qBAAqB,CAAC,YAAY,EACvD;AAAA,EACC;AAAA,EACA;AAAA;AAAA;AAAA;AAIF,EACC;AAAA,EACC;AAAA,EACA;AAAA;AAAA;AAAA;AAIF,EACC;AAAA,EACC;AAAA,EACA;AAAA;AAAA;AAAA;AAIF,EACC;AAAA,EACC;AAAA,EACA;AAAA;AAAA;AAAA;AAIF,EACC;AAAA,EACC;AAAA,EACA;AAAA;AAAA;AAAA;AAIF,EACC;AAAA,EACC;AAAA,EACA;AAAA;AAAA;AAAA;AAIF,EACC,OAAO,CAAC,GAAG,SAAS;AACnB,QAAM,YAAY;AAAA,IAChB,SAAS;AAAA,IACT,OAAO;AAAA,IACP,WACE;AAAA,IACF,KAAK;AAAA,EACP;AAEA,QAAM,cACJ,UAAW,KAAK,YAAuC,SAAS;AAClE,MAAI,CAAC,aAAa;AAChB,YAAQ,MAAM,qBAAqB,KAAK,QAAQ,EAAE;AAClD,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEA,QAAM,eAAe,QAAQ,KAAK,MAAM,CAAC,EAAE,OAAO,CAAC,KAAK,OAAO,QAAQ;AACrE,WAAO,EACL,QAAQ,QACR,QAAQ,gBACR,IAAI,QAAQ,CAAC,MAAM,QACnB,IAAI,QAAQ,CAAC,MAAM;AAAA,EAEvB,CAAC;AAED,QAAM,QAAQ;AAAA,IACZ;AAAA,IACA,CAAC,0BAA0B,GAAG,cAAc,MAAM,WAAW;AAAA,IAC7D;AAAA,MACE,OAAO;AAAA,IACT;AAAA,EACF;AAEA,QAAM,GAAG,SAAS,CAAC,UAAU;AAC3B,YAAQ,MAAM,UAAU,MAAM,OAAO,EAAE;AAAA,EACzC,CAAC;AAED,QAAM,GAAG,SAAS,CAAC,SAAS;AAC1B,QAAI,SAAS,GAAG;AACd,cAAQ,IAAI,iDAAiD,IAAI,EAAE;AAAA,IACrE;AAAA,EACF,CAAC;AACH,CAAC;","names":[]}
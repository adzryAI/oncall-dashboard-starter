{"version":3,"sources":["../../src/commands/add.ts"],"sourcesContent":["import { Command } from \"commander\";\nimport { spawn } from \"cross-spawn\";\n\nconst REGISTRY_BASE_URL = \"https://r.assistant-ui.com\";\n\nexport const add = new Command()\n  .name(\"add\")\n  .description(\"add a component to your project\")\n  .argument(\"<components...>\", \"the components to add\")\n  .option(\"-y, --yes\", \"skip confirmation prompt.\", true)\n  .option(\"-o, --overwrite\", \"overwrite existing files.\", false)\n  .option(\n    \"-c, --cwd <cwd>\",\n    \"the working directory. defaults to the current directory.\",\n    process.cwd(),\n  )\n  .option(\"-p, --path <path>\", \"the path to add the component to.\")\n  .action((components: string[], opts) => {\n    const componentsToAdd = components.map((c) => {\n      if (!/^[a-zA-Z0-9-\\/]+$/.test(c)) {\n        throw new Error(`Invalid component name: ${c}`);\n      }\n      return `${REGISTRY_BASE_URL}/${encodeURIComponent(c)}`;\n    });\n\n    const args = [`shadcn@latest`, \"add\", ...componentsToAdd];\n\n    if (opts.yes) args.push(\"--yes\");\n    if (opts.overwrite) args.push(\"--overwrite\");\n    if (opts.cwd) args.push(\"--cwd\", opts.cwd);\n    if (opts.path) args.push(\"--path\", opts.path);\n\n    const child = spawn(\"npx\", args, {\n      stdio: \"inherit\",\n      shell: true,\n    });\n\n    child.on(\"error\", (error) => {\n      console.error(`Error: ${error.message}`);\n    });\n\n    child.on(\"close\", (code) => {\n      if (code !== 0) {\n        console.log(`other-package-script process exited with code ${code}`);\n      }\n    });\n  });\n"],"mappings":";AAAA,SAAS,eAAe;AACxB,SAAS,aAAa;AAEtB,IAAM,oBAAoB;AAEnB,IAAM,MAAM,IAAI,QAAQ,EAC5B,KAAK,KAAK,EACV,YAAY,iCAAiC,EAC7C,SAAS,mBAAmB,uBAAuB,EACnD,OAAO,aAAa,6BAA6B,IAAI,EACrD,OAAO,mBAAmB,6BAA6B,KAAK,EAC5D;AAAA,EACC;AAAA,EACA;AAAA,EACA,QAAQ,IAAI;AACd,EACC,OAAO,qBAAqB,mCAAmC,EAC/D,OAAO,CAAC,YAAsB,SAAS;AACtC,QAAM,kBAAkB,WAAW,IAAI,CAAC,MAAM;AAC5C,QAAI,CAAC,oBAAoB,KAAK,CAAC,GAAG;AAChC,YAAM,IAAI,MAAM,2BAA2B,CAAC,EAAE;AAAA,IAChD;AACA,WAAO,GAAG,iBAAiB,IAAI,mBAAmB,CAAC,CAAC;AAAA,EACtD,CAAC;AAED,QAAM,OAAO,CAAC,iBAAiB,OAAO,GAAG,eAAe;AAExD,MAAI,KAAK,IAAK,MAAK,KAAK,OAAO;AAC/B,MAAI,KAAK,UAAW,MAAK,KAAK,aAAa;AAC3C,MAAI,KAAK,IAAK,MAAK,KAAK,SAAS,KAAK,GAAG;AACzC,MAAI,KAAK,KAAM,MAAK,KAAK,UAAU,KAAK,IAAI;AAE5C,QAAM,QAAQ,MAAM,OAAO,MAAM;AAAA,IAC/B,OAAO;AAAA,IACP,OAAO;AAAA,EACT,CAAC;AAED,QAAM,GAAG,SAAS,CAAC,UAAU;AAC3B,YAAQ,MAAM,UAAU,MAAM,OAAO,EAAE;AAAA,EACzC,CAAC;AAED,QAAM,GAAG,SAAS,CAAC,SAAS;AAC1B,QAAI,SAAS,GAAG;AACd,cAAQ,IAAI,iDAAiD,IAAI,EAAE;AAAA,IACrE;AAAA,EACF,CAAC;AACH,CAAC;","names":[]}